# -----------------------------------------------------------------------------
# 小红书自动评论脚本 - 配置文件
# -----------------------------------------------------------------------------

class Config:
    """配置类 - 所有可配置参数"""
    
    # -------------------------------------------------------------------------
    # 基础配置
    # -------------------------------------------------------------------------
    
    # 搜索关键词
    SEARCH_KEYWORD = "玉灵膏"
    
    # 评论内容列表 (脚本会随机选择,避免连续重复)
    COMMENTS = [
        # —— 产品相关评论(15条)——
        "能量营玉灵膏挺不错的",
        "能量营的玉灵膏我在用,感觉还行",
        "玉灵膏好用,身体轻了点",
        "能量营这牌子靠谱",
        "玉灵膏能量营的味道不错",
        "吃了几天能量营玉灵膏,感觉有效果",
        "能量营的东西挺实在",
        "玉灵膏确实有点用",
        "能量营玉灵膏我回购了",
        "能量营玉灵膏还真不赖",
        "能量营玉灵膏挺纯的,没有杂味",
        "能量营玉灵膏不错,价格也合适",
        "我妈也在吃能量营的玉灵膏,说挺好",
        "能量营的玉灵膏口感不错,吸收快",
        "能量营玉灵膏值得试试",
        
        # —— 普通认可/感谢类评论(5条)——
        "写得真好",
        "感谢分享",
        "学到了",
        "mark一下",
        "不错不错"
    ]
    
    # 目标评论数量 (默认值,运行时可修改)
    NOTES_TO_COMMENT = 3
    
    # -------------------------------------------------------------------------
    # 时间配置
    # -------------------------------------------------------------------------
    
    # 每次评论之间的最小间隔 (秒)
    MIN_INTERVAL = 55
    
    # 搜索后等待时间范围 (秒)
    SEARCH_INTERVAL = (5, 12)
    
    # 评论操作间的延迟 (秒)
    COMMENT_INTERVAL = (3, 6)
    
    # 打字延迟 (秒) - 每个字符之间的延迟
    TYPING_DELAY = (0.1, 0.3)
    
    # 预热时间 (秒) - 等待用户登录和预热的时间
    PREHEAT_TIMEOUT = 55
    
    # -------------------------------------------------------------------------
    # 文件配置
    # -------------------------------------------------------------------------
    
    # Cookie保存文件名
    COOKIE_FILE = "xhs_cookies.pkl"
    
    # 评论记录数据库文件名
    DATABASE_FILE = "xhs_commented_notes.db"
    
    # 日志文件名
    LOG_FILE = "xhs_auto_comment_log.txt"
    
    # -------------------------------------------------------------------------
    # 浏览器配置
    # -------------------------------------------------------------------------
    
    # User-Agent
    USER_AGENT = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.7390.108 Safari/537.36"
    
    # 是否禁用收藏栏 (避免误点击)
    DISABLE_BOOKMARKS = True
    
    # 用户数据目录名称
    PROFILE_DIR_NAME = "AutomationProfile"
    
    # -------------------------------------------------------------------------
    # 风控配置
    # -------------------------------------------------------------------------
    
    # 风控关键词列表
    RISK_KEYWORDS = [
        "操作频繁",
        "异常",
        "验证码",
        "安全验证",
        "请完成验证",
        "当前笔记暂时无法浏览"
    ]
    
    # -------------------------------------------------------------------------
    # 选择器配置
    # -------------------------------------------------------------------------
    
    # 登录状态检测选择器
    LOGIN_SELECTORS = [
        "a[href='/user/profile/me']",
        "a[href*='/user/profile']",
        ".user-info",
        ".avatar",
        "img[alt*='头像']"
    ]
    
    # 笔记链接选择器
    NOTE_SELECTORS = [
        "a[href*='/explore/']",
        "//a[contains(@href,'/explore/')]",
        "//a[@class='cover ld mask']"
    ]
    
    # 评论框选择器
    COMMENT_BOX_SELECTORS = [
        "textarea[placeholder*='评论']",
        "textarea[placeholder*='留下']",
        "textarea.reply-input",
        ".comment-input textarea"
    ]
    
    # 发布按钮选择器
    PUBLISH_BUTTON_SELECTORS = [
        "//button[contains(@class,'submit') and normalize-space()='发布']",
        "//button[normalize-space()='发布']",
        "//button[contains(text(), '发送')]",
        "//div[contains(text(), '发布')]"
    ]
    
    # -------------------------------------------------------------------------
    # 高级配置
    # -------------------------------------------------------------------------
    
    # 最小笔记位置 (像素) - 排除顶部元素,避免点到收藏栏
    MIN_NOTE_POSITION_Y = 100
    
    # 是否启用Cookie持久化
    ENABLE_COOKIE_PERSISTENCE = True
    
    # 是否显示详细日志
    VERBOSE = True
